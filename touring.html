<script>
    async function sendQuestion() {
        const question = document.getElementById('questionInput').value;
        if (!question) {
            alert("질문을 입력하세요.");
            return;
        }
        const artwork = artworks[0];
        const apiUrl = 'https://api.openai.com/v1/chat/completions';
        const apiKey = 'YOUR_OPENAI_API_KEY';
        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`
                },
                body: JSON.stringify({
                    model: "gpt-4",
                    messages: [
                        {
                            role: "system",
                            content: `You are an AI docent at the Louvre Museum. You are receiving questions about ${artwork.title}. Answer the user's questions like a docent in korean.` 
                        },
                        {
                            role: "user",
                            content: question
                        }
                    ],
                    max_tokens: 150,
                    temperature: 0.7
                })
            });
            const data = await response.json();
            const answer = data.choices[0].message.content.trim();
            document.getElementById('description').innerHTML += `<br><br>AI 응답: ${answer}`;
        } catch (error) {
            console.error('Error:', error);
            alert("응답을 가져오는 중 문제가 발생했습니다.");
        }
    }
</script>
